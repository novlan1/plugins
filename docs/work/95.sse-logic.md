:::info 作者

novlan1

2025.10.31
:::

# 前端 AI 逻辑沉淀

在 [t-comm](https://git.aow.com/pmd-mobile/pmd-h5/t-comm/tree/master/src/sse) 中沉淀了关于前端 AI 逻辑的代码，包括：

- 请求SSE，包含 H5 和小程序
- 流式输出的基础处理，包含 H5 和小程序

目前已经应用在以下项目：

- 和平赛场（H5 + 小程序）
- 王者赛宝AI助手（PC）
- D2C（PC）

代码参考：

- https://git.aow.com/pmd-mobile/match/gp-next/blob/feature/story-ai-match/src/local-logic/tip-match/ai/chat.ts
- https://git.aow.com/pmd-mobile/match/saibao-ai/blob/develop/src/local-logic/ai/chat.ts

核心方法文档地址：https://novlan1.github.io/docs/t-comm/zh/sse.html

业务侧无需关心

- 请求方法（Web中 为 `fetch`，小程序中 `wx.request`）
- 请求参数，比如 `credentials`、
- 请求头，比如 `Content-Type`、`Accept`
- 防 CSRF 的 `query` 参数
- 登录态，主要是小程序的
- 数据兼容性（Web中为字符串，小程序中为 `ArrayBuffer`）
