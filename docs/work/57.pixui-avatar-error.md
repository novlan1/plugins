:::info 作者

novlan1

2025.8.19

:::

# PixUI 头像加载失败问题

PixUI 项目中某些头像不显示，日志显示后台数据已返回，而且返回的链接在浏览器中也可以打开。

下图左下角为加载失败的头像。

<img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2025/8/own_mike_TQp6CFTmmaEtXsFA.png" width="600" />

排查思路：

1. 确定 `img` 元素有 `error` 事件
2. 增加了重试功能，即改变 `query` 的时间戳，多加载几次试试。未解决
3. 增加兜底图。未解决问题
4. 尝试改成 `background` 模式，而非 `img + src`。未解决
5. 尝试加载失败后将 `https` 改成 `http`。解决问题

原因：

- 具体原因不得而知，因为 PixUI 和游戏对我们都是黑盒
- 推测是由于头像链接并非我们的CDN，而对方的服务器未配置正确的 SSL 证书？CDN 节点未同步 HTTPS 配置？
