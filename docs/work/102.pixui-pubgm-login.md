:::info 作者

novlan1

2025.11.20
:::

# PUBGM 中 PixUI 项目登录态

## 参数

使用的是 iTOP 登录，请求 `url` 中带 `sTicket=xxx&serviceType=ITOP`，有效时即认为有登录态。

> 其他游戏登录态参数为 `appid=xxx&openid=xxx&access_token=xxx&acctype=xxx`

`sTicket` 可以从 `GameletAPI.getUserData()` 中获取。开发时复制日志中 `sTicket` 中到 `.env.local` 环境变量中。


```bash
# .env.local
MOCK_LOGIN_PARAMS = serviceType=ITOP&sTicket=xxx
```

注，由于历史原因，部分接口登录态参数可能从 `.env.local.js` 或 `.env.ts` 文件中读取，所以最稳妥的做法是，给这三个文件都加上相同的登录态。另外，只有 `.env.local` 是环境变量模式 `a=b`，其他都是 `export {}`。

```js
// .env.local.js
// .env.ts
const MOCK_LOGIN_PARAMS = 'serviceType=ITOP&sTicket=xxx';

export {
  MOCK_LOGIN_PARAMS
}
```

## 日志

日志查看方式：

1. 伽利略，搜 `HOME_USER_INFO`
2. PixUI 客户端日志，搜 `[HOME_USER_INFO]`

鲲鹏同事如果两个平台都没权限的话，找其他人要一个有效的 `sTicket`。

## 小结

开发中登录态获取：

1. 查日志，拿到有效的 `sTicket`
2. 复制到 `.env.local` 环境变量中
