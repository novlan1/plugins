:::info 作者

novlan1

2024.08.07

:::

# 跨端小程序插件

复用了之前的跨端模板，进行了一系列适配，达到了一套代码，多端运行。多端包括H5、微信小程序、QQ小程序、微信小程序插件等。

具体使用方法如下：

在环境变量 `.env.local` 中新增 `VUE_APP_MP_PLUGIN = pluginRoot`。`pluginRoot` 会被当作插件目录名称。完整的配置示例如下：
```
UNI_INPUT_DIR = './src/project/mp-plugin'
VUE_APP_DIR = project/mp-plugin
VUE_APP_MP_PLUGIN = pluginRoot
```

启动命令如下：

```bash
# 开发
npm run dev:mp-plugin 
# 发布
npm run build:mp-plugin
```

然后在小程序开发者工具打开 `dist/dev/mp-weixin` 或者 `dist/build/mp-weixin` 进行调试、预览、上传等。

原理介绍： https://km.aow.com/articles/show/610592

示例工程：https://git.aow.com/pmd-mobile/test/mp-plugin
