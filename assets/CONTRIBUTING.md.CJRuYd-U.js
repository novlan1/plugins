import{_ as l,V as n,D as e,E as o,aj as a,H as h,I as t,L as p,k as d,ak as r}from"./chunks/framework.Kiq3wDli.js";const b=JSON.parse('{"title":"贡献指南","description":"","frontmatter":{},"headers":[],"relativePath":"CONTRIBUTING.md","filePath":"CONTRIBUTING.md","lastUpdated":1770533524000}'),c={name:"CONTRIBUTING.md"};function g(u,i,k,F,C,m){const s=n("Mermaid");return e(),o("div",null,[i[1]||(i[1]=a(`<h1 id="贡献指南" tabindex="-1">贡献指南 <a class="header-anchor" href="#贡献指南" aria-label="Permalink to &quot;贡献指南&quot;">​</a></h1><p><code>plugin-light</code> 采用 <code>pnpm monorepo</code> 模式，灵感来自于 Vue3 和 Vite 项目。</p><p>开发前需对 <code>pnpm</code> 常用命令有基本了解。</p><h2 id="_1-打包" tabindex="-1">1. 打包 <a class="header-anchor" href="#_1-打包" aria-label="Permalink to &quot;1. 打包&quot;">​</a></h2><p>以 <code>project-config-vite</code> 为例：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter=@plugin-light/project-config-vite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><p>升级依赖</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在某个包中升级 一些依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter=@plugin-light/project-config-vite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@plugin-light/*&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在所有包中只升级 某个依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./packages/*&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@plugin-light/shared-vue2&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 除了某个包外，其他包升级依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\\!./packages/plugin-light-shared&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@plugin-light/shared&quot;</span></span></code></pre></div><h2 id="_2-文档" tabindex="-1">2. 文档 <a class="header-anchor" href="#_2-文档" aria-label="Permalink to &quot;2. 文档&quot;">​</a></h2><p>根据<code>jsdoc</code>生成文档：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:gen</span></span></code></pre></div><p>文档开发：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:dev</span></span></code></pre></div><p>文档打包：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:build</span></span></code></pre></div><p>文档部署：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs:deploy</span></span></code></pre></div><h2 id="_3-monorepo" tabindex="-1">3. monorepo <a class="header-anchor" href="#_3-monorepo" aria-label="Permalink to &quot;3. monorepo&quot;">​</a></h2><h3 id="_3-1-shared" tabindex="-1">3.1. shared <a class="header-anchor" href="#_3-1-shared" aria-label="Permalink to &quot;3.1. shared&quot;">​</a></h3><p><code>shared</code> 为 Vue2 和 Vue3 公用的。</p><p><code>shared-vue2</code> 为 Vue2 独有的，可能会用到 <code>loader-utils</code>、<code>vue-template-compiler</code> 等库。</p><p>这样拆离是为了防止依赖版本冲突。</p><h3 id="_3-2-依赖关系" tabindex="-1">3.2. 依赖关系 <a class="header-anchor" href="#_3-2-依赖关系" aria-label="Permalink to &quot;3.2. 依赖关系&quot;">​</a></h3><p><code>loader</code>、<code>plugin</code> 之间不能互相依赖，<code>project-config</code> 之间也是。如果有公用部分，请抽离到 <code>shared</code> 中。</p><p><code>shared</code>、<code>loader</code>、<code>plugin</code>、<code>project-config</code> 等包依赖关系如下：</p>`,25)),(e(),h(r,null,{default:t(()=>[d(s,{id:"mermaid-64",class:"mermaid mermaid-my-class",graph:"graph%20TD%0A%20%20subgraph%20projectConfigSub%5B%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%5D%0A%20%20%20%20direction%20LR%0A%20%20%20%20ProjectConfigVite%5BProject%20Config%20Vite%5D%20-.-%20ProjectConfigVue%5BProject%20Config%20Vue%5D%0A%20%20%20%20ProjectConfigVue%20-.-%20ProjectConfigOther%5BProject%20Config%20...%5D%0A%20%20end%0A%0A%20%20subgraph%20LoaderSub%5B%E6%8F%92%E4%BB%B6%2FLoader%5D%0A%20%20%20%20direction%20LR%0A%20%20%20%20VitePlugin%5BVite%20Plugin%20...%5D%20-.-%20WebpackPlugin%5BWebpack%20Plugin%20...%5D%20%0A%20%20%20%20WebpackPlugin%20-.-%20WebpackLoader%5BWebpack%20Loader%20...%5D%0A%20%20end%0A%0A%20%20subgraph%20SharedSub%5B%E5%BA%95%E5%B1%82%E4%BE%9D%E8%B5%96%5D%0A%20%20%20%20direction%20LR%0A%20%20%20%20SharedVue2%5BPlugin%20Light%20Shared%20Vue2%5D%20-.-%20CLI%5BPlugin%20Light%20CLI%5D%0A%20%20%20%20CLI%20-.-%20Preprocess%5BPreprocess%20...%5D%0A%20%20%20%20%25%25%20Preprocess%20-.-%20ImportMetaResolve%5BImport%20Meta%20Resolve%5D%0A%20%20%20%20%25%25%20ImportMetaResolve%20-.-%20UniReadPagesVite%5BUni%20Read%20Pages%20Vite%5D%0A%20%20end%0A%0A%20%20subgraph%20ESlintConfigSub%5BESlint%20Config%5D%0A%20%20%20%20direction%20TB%0A%20%20%20%20ESLintConfigLight%5BESLint%20Config%20Light%5D%20-.-%20ESLintConfigVue3%5BESLint%20Config%20Light%20Vue3%5D%0A%20%20%20%20ESLintConfigVue3%20-.-%20ESLintConfigFlat%5BESLint%20Config%20Light%20Flat%5D%0A%20%20end%0A%0A%20%20subgraph%20StyleLintConfigSub%5BStylelint%20Config%5D%0A%20%20%20%20StyleLintConfigCommon%5BStylelint%20Config%20Common%5D%0A%20%20end%0A%0A%20%20subgraph%20PostCSSPluginSub%5BPostCSS%20Plugin%5D%0A%20%20%20%20direction%20TB%0A%20%20%20%20RemoveSelector%5BRemove%20Selector%5D%20-.-%20TransformWebTag%5BTransform%20Web%20Tag%5D%0A%20%20end%0A%0A%20%20projectConfigSub%20--%3E%20LoaderSub%0A%20%20LoaderSub%20--%3E%20SharedSub%0A%20%20projectConfigSub%20--%3E%20PluginLightShared%0A%20%20LoaderSub%20--%3E%20PluginLightShared%0A%20%20SharedSub%20--%3E%20PluginLightShared%5BPlugin%20Light%20Shared%5D%0A%20%20PluginLightShared%20-.-%3E%20TComm%5BT%20Comm%5D%0A%20%20PluginLightShared%20-.-%3E%20PluginLightConst%5BPlugin%20Light%20Const%5D%0A%20%20%0A%20%20ESlintConfigSub%20--%3E%20ESLintPluginLight%5BESLint%20Plugin%20Light%5D%0A%20%20ESLintPluginLight%20--%3E%20PluginLightShared%0A%20%20ESlintConfigSub%20--%3E%20PluginLightShared%0A%0A%20%20StyleLintConfigSub%20--%3E%20StyleLintPluginLight%5BStylelint%20Plugin%20Light%5D%0A%20%20StyleLintPluginLight%20--%3E%20PluginLightShared%0A%20%20StyleLintConfigSub%20--%3E%20PluginLightShared%0A%0A%20%20PostCSSPluginSub%20--%3E%20PluginLightShared%0A%20%20NetCLI%5BNet%20CLI%5D%20--%3E%20PluginLightShared%0A%20%20%0A%0A%20%20click%20ProjectConfigVite%20%22.%2Fzh%2Fproject-config-vite.html%22%0A%20%20click%20ProjectConfigVue%20%22.%2Fzh%2Fproject-config-vue.html%22%0A%0A%20%20click%20VitePlugin%20%22.%2Fzh%2Fvite-plugin-ifdef.html%22%0A%20%20click%20WebpackPlugin%20%22.%2Fzh%2Fwebpack-plugin-dispatch-vue.html%22%0A%20%20click%20WebpackLoader%20%22.%2Fzh%2Fwebpack-loader-ifdef.html%22%0A%0A%20%20click%20ESLintConfigLight%20%22.%2Fzh%2Feslint-config-light.html%22%0A%20%20click%20ESLintConfigVue3%20%22.%2Fzh%2Feslint-config-light-vue3.html%22%0A%20%20click%20ESLintConfigFlat%20%22.%2Fzh%2Feslint-config-light-flat.html%22%0A%20%20click%20ESLintPluginLight%20%22.%2Fzh%2Feslint-plugin-light.html%22%0A%0A%20%20click%20StyleLintConfigCommon%20%22.%2Fzh%2Fstylelint-config-common.html%22%0A%20%20click%20StyleLintPluginLight%20%22.%2Fzh%2Fstylelint-plugin-light.html%22%0A%20%20%0A%20%20click%20SharedVue2%20%22.%2Fzh%2Fplugin-light-shared-vue2.html%22%0A%20%20click%20PluginLightShared%20%22.%2Fzh%2Fplugin-light-shared.html%22%0A%20%20click%20CLI%20%22.%2Fzh%2Fplugin-light-cli.html%22%0A%20%20click%20Preprocess%20%22.%2Fzh%2Fplugin-light-preprocess.html%22%0A%20%20click%20ImportMetaResolve%20%22.%2Fzh%2Fimport-meta-resolve.html%22%0A%20%20click%20UniReadPagesVite%20%22.%2Fzh%2Funi-read-pages-vite.html%22%0A%20%20%0A%20%20click%20NetCLI%20%22.%2Fzh%2Fnet-cli.html%22%0A%0A%20%20click%20RemoveSelector%20%22.%2Fzh%2Fpostcss-plugin-remove-selector.html%22%0A%20%20click%20TransformWebTag%20%22.%2Fzh%2Fpostcss-plugin-transform-web-tag.html%22%0A%0A%20%20click%20TComm%20%22https%3A%2F%2Fnovlan1.github.io%2Fdocs%2Ft-comm%2F%22%20_blank%0A%0A%20%20linkStyle%200%2C1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%20stroke-width%3A0px%0A"})]),fallback:t(()=>i[0]||(i[0]=[p(" Loading... ",-1)])),_:1})),i[2]||(i[2]=a('<p>运行时工具，不依赖 <code>plugin-light-shared</code>，独立于上面的子包。</p><h3 id="_3-3-loader-导出" tabindex="-1">3.3. loader 导出 <a class="header-anchor" href="#_3-3-loader-导出" aria-label="Permalink to &quot;3.3. loader 导出&quot;">​</a></h3><p>每个 <code>loader</code> 有 3 个产物，外部可以使用。</p><ol><li>index.js</li><li>loader.js</li><li>loader.prod.js</li></ol><p><code>index.js</code> 是具名导出，包含 <code>LOADER</code>、<code>LOADER_PROD</code> 两个变量，分别对应 <code>loader.js</code>、<code>loader.prod.js</code> 的文件路径，并导出 <code>loader</code> 的 <code>types</code>。</p><p><code>loader.js</code> 和 <code>loader.prod.js</code> 分别是 <code>loader</code> 的非压缩版本和压缩版本。</p><h2 id="_4-工程化" tabindex="-1">4. 工程化 <a class="header-anchor" href="#_4-工程化" aria-label="Permalink to &quot;4. 工程化&quot;">​</a></h2><p><code>plugin-light</code> 提供的很多工具都是围绕工程化来的。</p><p>工程化的目标是通过自动化、标准化和最佳实践，解放开发者的双手来提高相关事务的实现效率，同时大幅降低因频繁人工干预而导致出现问题的可能性。</p><h2 id="_5-文档" tabindex="-1">5. 文档 <a class="header-anchor" href="#_5-文档" aria-label="Permalink to &quot;5. 文档&quot;">​</a></h2><ul><li>文档链接一旦确认就不应该再更改，防止公布之后别人找不到</li><li>&quot;业务文档&quot;章节中必须是与业务相关的，不允许纯感想，不允许学习笔记</li></ul><h2 id="_6-声明" tabindex="-1">6. 声明 <a class="header-anchor" href="#_6-声明" aria-label="Permalink to &quot;6. 声明&quot;">​</a></h2><p>作者：<strong>novlan1</strong></p>',13))])}const S=l(c,[["render",g]]);export{b as __pageData,S as default};
